{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/typeorm-virtual-column-2/",
    "result": {"data":{"cur":{"id":"24ee1439-a6bd-5d83-a1aa-ea2f6f8a6358","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIklEQVQoz5WST0/CQBDF+9U9EWMgGEhM/ATejCetXLl556DZGv4WUiBuaCnddudn2gUsiRGcZHY3b2fevJldj9JEqg2rIf6gbrJ5LxekHveHeSKCFHmVIP4dol7YZBb9tXYk6hl5vXf3RY61tvIqr+aunuBVh3xP2Glj1YhVkrAIQ7ZlcDBCOrdnlR1IvSN7WbVxhSwj5qsV08mExBiKRQjNBlEU0e/36fV6+L6P1rryOI5PFR5ll0D7BjsPWccxyyhis9tRhFNoXZNZIZzN+AwCBoMBSZKQpinGmN9aNo6w20SUYq414+GQrMSUQrqtQ2OXtSy2cODbAxI8YQSydOsig0eH/+dRTornula1VK+58Mc4hRxnWJtlDftpZ6/kDPM3H6637KPjZfIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"typeorm.png\"\n        title=\"typeorm.png\"\n        src=\"/static/e4b90acf02bd52801818ca0004fdd1f1/37523/typeorm.png\"\n        srcset=\"/static/e4b90acf02bd52801818ca0004fdd1f1/e9ff0/typeorm.png 180w,\n/static/e4b90acf02bd52801818ca0004fdd1f1/f21e7/typeorm.png 360w,\n/static/e4b90acf02bd52801818ca0004fdd1f1/37523/typeorm.png 720w,\n/static/e4b90acf02bd52801818ca0004fdd1f1/00d43/typeorm.png 1000w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<h2 id=\"ullia-hrefhttpsseongsumetypeorm-virtual-column-1-target_blanktypeorm-virtual-column-ì„¤ì •-1aliul\" style=\"position:relative;\"><a href=\"#ullia-hrefhttpsseongsumetypeorm-virtual-column-1-target_blanktypeorm-virtual-column-%EC%84%A4%EC%A0%95-1aliul\" aria-label=\"ullia hrefhttpsseongsumetypeorm virtual column 1 target_blanktypeorm virtual column ì„¤ì • 1aliul permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><ul><li><a href=\"https://seongsu.me/typeorm-virtual-column-1\" target=\"_blank\">Typeorm Virtual Column ì„¤ì • (1)</a></li></ul></h2>\n<br/>\n<br/>\n<p>ì´ì „ í¬ìŠ¤íŒ…ì—ì„œ <code class=\"language-text\">getMany()</code>í•¨ìˆ˜ì™€ <code class=\"language-text\">getRawMany()</code>í•¨ìˆ˜ì˜ ì°¨ì´ì ì„ ì•Œì•„ë³´ê²Œ ë˜ì—ˆëŠ”ë°<br/>\nì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„  ê°€ìƒì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ë©° joinì‹œ ìœ„ í•¨ìˆ˜ì˜ ë¬¸ì œì™€ í•´ê²°ë²•ì„ í¬ìŠ¤íŒ… í•´ë³´ë ¤ í•œë‹¤.<br/></p>\n<br/>\n<h2 id=\"-custom-virtual-columnì„-ì‚¬ìš©í•´ì•¼-í•˜ëŠ”-ì´ìœ \" style=\"position:relative;\"><a href=\"#-custom-virtual-column%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\" aria-label=\" custom virtual columnì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ˜µâ€ğŸ’« Custom Virtual Columnì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ </h2>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token comment\">// station id 1 ì£¼ë³€ ë§›ì§‘</span>\n<span class=\"token punctuation\">[</span>\n    Shops <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ì°¬ì´ë„¤\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Shops <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ì‚¬ì™•ì´ë„¤\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Shops <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n        stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ìŠ¹í•œì´ë„¤\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span>\n\n<span class=\"token comment\">// station id 2 ì£¼ë³€ ë§›ì§‘</span>\n<span class=\"token punctuation\">[</span>\n    Shops <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n        stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"í¬ë˜í”„íŠ¸ í•œìŠ¤\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Shops <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"í°í†µì¹˜í‚¨\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Shops <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\n        stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"BBQ\"</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<br/>\n<p>ì˜ˆë¥¼ë“¤ì–´ ìœ„ì²˜ëŸ¼ ë²„ìŠ¤ ì •ë¥˜ì†Œì™€ ì£¼ë³€ ë§›ì§‘ì´ ì •ë¥˜ì†Œ pkë¥¼ í†µí•´ foreign keyë¡œ ì—°ê²°ì´ ë˜ì–´ìˆë‹¤ ê°€ì •í•´ ë³´ì.<br/></p>\n<br/>\n<p>ì´ë ‡ê²Œ ì •ë¥˜ì†Œì™€ ì£¼ë³€ ë§›ì§‘ì˜ ê´€ê³„ê°€ ë§ºì–´ì ¸ ìˆëŠ” ìƒí™©ì—ì„œ í˜„ì¬ ê±°ë¦¬ ê¸°ì¤€ 2km ì´ë‚´ ì •ë¥˜ì†Œ ì£¼ë³€ ë§›ì§‘ì„ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?<br/></p>\n<br/>\n<h3 id=\"span-stylecolor-redgetrawmanyì˜-ë¬¸ì œspan\" style=\"position:relative;\"><a href=\"#span-stylecolor-redgetrawmany%EC%9D%98-%EB%AC%B8%EC%A0%9Cspan\" aria-label=\"span stylecolor redgetrawmanyì˜ ë¬¸ì œspan permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: red\">getRawMany()ì˜ ë¬¸ì œ</span></h3>\n<p>ì§€ê¸ˆ ë³´ë‹ˆ <code class=\"language-text\">getRawMany()</code>í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë‹ˆ ê°€ìƒ ì»¬ëŸ¼ íš¨ê³¼ë¥¼ ë‚¸ ê²ƒ ê°™ì€ë° í•´ê²°ëœê±° ì•„ë‹ˆëƒ? í•  ìˆ˜ ìˆë‹¤.<br/>\nê·¸ëŸ°ë° ë¬¸ì œëŠ” ì§€ê¸ˆë¶€í„°ì´ë‹¤. ì—¬ê¸°ì„œ <code class=\"language-text\">inner join</code> ë˜ëŠ” <code class=\"language-text\">left join</code>ì„ í•  ê²½ìš°<br/></p>\n<br/>\n<p><code class=\"language-text\">getRawMany()í•¨ìˆ˜ë¡œ join &amp; ê°€ìƒì»¬ëŸ¼</code></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span>\n    Stations <span class=\"token punctuation\">{</span>\n        stations_id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        stations_station<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ëŒ€ë¬¸ì—­ 2ë²ˆì¶œêµ¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        stations_latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57198805</span><span class=\"token punctuation\">,</span>\n        stations_longitude<span class=\"token operator\">:</span> <span class=\"token number\">127.0117451</span><span class=\"token punctuation\">,</span>\n        shops_id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        shops_stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        shops_shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ì°¬ì´ë„¤\"</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">0.4228400907307967</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Stations <span class=\"token punctuation\">{</span>\n        stations_id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        stations_station<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ëŒ€ë¬¸ì—­ 2ë²ˆì¶œêµ¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        stations_latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57198805</span><span class=\"token punctuation\">,</span>\n        stations_longitude<span class=\"token operator\">:</span> <span class=\"token number\">127.0117451</span><span class=\"token punctuation\">,</span>\n        shops_id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        shops_stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        shops_shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ì‚¬ì™•ì´ë„¤\"</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">0.4228400907307967</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\n    <span class=\"token operator\">...</span>\n\n    Stations <span class=\"token punctuation\">{</span>\n        stations_id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        stations_station<span class=\"token operator\">:</span> <span class=\"token string\">\"ì›ë‚¨ë™ ì‚¬ê±°ë¦¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        stations_latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57578617</span><span class=\"token punctuation\">,</span>\n        stations_longitude<span class=\"token operator\">:</span> <span class=\"token number\">126.998124</span><span class=\"token punctuation\">,</span>\n        shops_id<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n        shops_stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        shops_shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"í°í†µì¹˜í‚¨\"</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">1.5482886513847316</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Stations <span class=\"token punctuation\">{</span>\n        stations_id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        stations_station<span class=\"token operator\">:</span> <span class=\"token string\">\"ì›ë‚¨ë™ ì‚¬ê±°ë¦¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        stations_latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57578617</span><span class=\"token punctuation\">,</span>\n        stations_longitude<span class=\"token operator\">:</span> <span class=\"token number\">126.998124</span><span class=\"token punctuation\">,</span>\n        shops_id<span class=\"token operator\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\n        shops_stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        shops_shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"BBQ\"</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">1.5482886513847316</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<br/>\n<p>ìœ„ì²˜ëŸ¼ <code class=\"language-text\">distance</code>ë¥¼ ì¶”ê°€í•´ ì¡°íšŒ í•  ê²½ìš°<br/>\nì›ë˜ ëŒ€ë¡œë©´ ë¶€ëª¨ ê°ì²´ ì•ˆì— joinëœ ê°ì²´ë“¤ì´ ë°°ì—´ì„ ì´ë¤„ ì§€ì •í•œ keyì˜ ë°°ì—´ë¡œ ì €ì¥ì´ ë˜ì–´ì•¼ í•œë‹¤.<br/>\ní•˜ì§€ë§Œ <code class=\"language-text\">getRawMany()</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë¶€ëª¨ê°ì²´ì™€ì˜ ì˜ì¡´ì„±ì´ ëª¨ë‘ ì‚¬ë¼ì§€ë©° joinëœ ê°ì²´ í•˜ë‚˜í•˜ë‚˜ê°€ ë…ë¦½ì ìœ¼ë¡œ ì¡°íšŒëœë‹¤.<br/>\nì—¬ê¸°ì„œ Typeorm ì›ì‹œ ì¿¼ë¦¬ ì¡°íšŒì˜ ë¬¸ì œê°€ ë‚˜ì˜¨ë‹¤.<br/></p>\n<br/>\n<h3 id=\"span-stylecolor-redgetmanyì˜-ë¬¸ì œspan\" style=\"position:relative;\"><a href=\"#span-stylecolor-redgetmany%EC%9D%98-%EB%AC%B8%EC%A0%9Cspan\" aria-label=\"span stylecolor redgetmanyì˜ ë¬¸ì œspan permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: red\">getMany()ì˜ ë¬¸ì œ</span></h3>\n<br/>\n<p>ê·¸ëŸ¼ <code class=\"language-text\">getMany()</code>í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ëŠ”ê²ƒ ì•„ë‹ˆëƒ?<br/>\n<a href=\"http://localhost:8000/typeorm-virtual-column-1/#code-classlanguage-textgetmany-%EC%82%AC%EC%9A%A9-%EC%8B%9Ccode\">ì´ì „ í¬ìŠ¤íŒ…</a>ì—ì„œ ë´¤ë˜ ê²ƒ ì²˜ëŸ¼ <code class=\"language-text\">distance</code>ë¥¼ ì¶œë ¥í•˜ê³  ì‹¶ì€ë° ì•ˆë‚˜ì˜¤ëŠ” ë¬¸ì œê°€ ìˆì–´ ìì„¸íˆ ì•Œì•„ë³¼ í•„ìš”ê°€ ì—†ë‹¤.<br/></p>\n<br/>\n<h2 id=\"-custom-virtual-columnì„-ì‚¬ìš©í•´-ë³´ì\" style=\"position:relative;\"><a href=\"#-custom-virtual-column%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%B3%B4%EC%9E%90\" aria-label=\" custom virtual columnì„ ì‚¬ìš©í•´ ë³´ì permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤© Custom Virtual Columnì„ ì‚¬ìš©í•´ ë³´ì</h2>\n<br/>\n<p>ìš°ë¦¬ê°€ ë§Œë“¤ ê°€ìƒ ì»¬ëŸ¼ì€ ìœ„ ë¬¸ì œë¥¼ ì™„ë²½íˆ í•´ê²°í•´ ì¤„ ê²ƒì´ë‹¤.<br/></p>\n<blockquote>\n<p>ë¬¼ë¡  ì§œê¸° ë‚˜ë¦„ì´ë‹¤ ğŸ¤ª</p>\n</blockquote>\n<br/>\n<p>Custom Virtual Columnì„ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëƒë©´<br/>\nì²«ì§¸ë¡œ ë°ì½”ë ˆì´í„° ì„¤ì •, ê°€ìƒ ì»¬ëŸ¼ ì„¤ì •, ê·¸ ë’¤ <code class=\"language-text\">getMany()</code>, <code class=\"language-text\">getRawMany()</code>ë¥¼ ëŒ€ì²´í•  í•¨ìˆ˜ ì œì‘ì´ë‹¤.<br/>\nê·¸ëŸ¼ <code class=\"language-text\">addSelect()</code>í•¨ìˆ˜ê°€ í˜¸ì¶œ ë  ë•Œ alias ëœ ì»¬ëŸ¼ëª…ìœ¼ë¡œ ë°ì½”ë ˆì´í„°ê°€ ë“±ë¡ëœ ì»¬ëŸ¼ì´ ì ìš©ë  ê²ƒì´ë‹¤.<br/></p>\n<br/>\n<ul>\n<li>\n<p><a href=\"https://typescript-kr.github.io/pages/decorators.html\">https://typescript-kr.github.io/pages/decorators.html</a><br/></p>\n<p>ë¨¼ì € ìœ„ ë§í¬ì—ì„œ ë°ì½”ë ˆì´í„° &#x26; ë©”íƒ€ë°ì´í„°ì— ê´€í•´ ì•Œì•„ë³´ì<br/></p>\n</li>\n</ul>\n<br/>\n<p>ê·¸ ë’¤ <code class=\"language-text\">reflect-metadata</code>ì„¤ì¹˜ê°€ ì™„ë£Œ ë˜ì—ˆê³  <code class=\"language-text\">tsconfig.json</code>ì— ë©”íƒ€ë°ì´í„° ì„¤ì •ì´ ì™„ë£Œ ë˜ì—ˆë‹¤ë©´ ë°ì½”ë ˆì´í„°ë¥¼ ë§Œë“¤ì–´ ì£¼ì.</p>\n<br/>\n<h3 id=\"code-classlanguage-textmodulesdecoratortscode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textmodulesdecoratortscode\" aria-label=\"code classlanguage textmodulesdecoratortscode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@modules/decorator.ts</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"reflect-metadata\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">COLUMN_KEY</span> <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VIRTUAL_COLUMN\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">function</span> <span class=\"token function\">VirtualColumn</span><span class=\"token punctuation\">(</span>name<span class=\"token operator\">?</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> PropertyDecorator <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> propertyKey<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> metaInfo <span class=\"token operator\">=</span> Reflect<span class=\"token punctuation\">.</span><span class=\"token function\">getMetadata</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COLUMN_KEY</span><span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n        metaInfo<span class=\"token punctuation\">[</span>propertyKey<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> name <span class=\"token operator\">??</span> propertyKey<span class=\"token punctuation\">;</span>\n\n        Reflect<span class=\"token punctuation\">.</span><span class=\"token function\">defineMetadata</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COLUMN_KEY</span><span class=\"token punctuation\">,</span> metaInfo<span class=\"token punctuation\">,</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>ë°ì½”ë ˆì´í„° í•¨ìˆ˜ ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆìœ¼ë©´ Entityì— ë°”ë¡œ ì ìš©í•˜ì!<br/></p>\n<br/>\n<h3 id=\"code-classlanguage-textentitiesstationstscode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textentitiesstationstscode\" aria-label=\"code classlanguage textentitiesstationstscode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@entities/stations.ts</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Entity<span class=\"token punctuation\">,</span> PrimaryGeneratedColumn<span class=\"token punctuation\">,</span> Column <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typeorm\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> VirtualColumn <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@modules/decorator.ts\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Entity</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stations\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Stations</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">PrimaryGeneratedColumn</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    id<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"varchar\"</span><span class=\"token punctuation\">)</span>\n    station<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"double\"</span><span class=\"token punctuation\">)</span>\n    latitude<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"double\"</span><span class=\"token punctuation\">)</span>\n    longitude<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ë°ì½”ë ˆì´í„°ëŠ” distanceë¼ëŠ” ì´ë¦„ì„ ê°€ì§„ ì»¬ëŸ¼ìœ¼ë¡œ ì¸ì‹í•˜ê²Œ ëœë‹¤.</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">VirtualColumn</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    distance<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>ì´ì œ Express ì„œë²„ê°€ ì‹¤í–‰ë˜ë©° Typeormì´ ì—°ê²°ë  ë•Œ VirtualColumn()ë„ ê°™ì´ ì ìš©ëœë‹¤.<br/>\nê·¸ ë’¤ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ê¸° ìœ„í•´ <code class=\"language-text\">getRawMany()</code>í•¨ìˆ˜ë¥¼ ì»¤ìŠ¤í…€ í•´ë³´ì.<br/></p>\n<br/>\n<h3 id=\"code-classlanguage-textmodulesquerybuildertscode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textmodulesquerybuildertscode\" aria-label=\"code classlanguage textmodulesquerybuildertscode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@modules/queryBuilder.ts</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> SelectQueryBuilder <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typeorm\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"reflect-metadata\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">declare</span> <span class=\"token keyword\">module</span> <span class=\"token string\">\"typeorm\"</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">interface</span> <span class=\"token class-name\">SelectQueryBuilder<span class=\"token operator\">&lt;</span>Entity<span class=\"token operator\">></span></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">getAroundShop</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token operator\">:</span> SelectQueryBuilder<span class=\"token operator\">&lt;</span>Entity<span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span>Entity<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">|</span> <span class=\"token keyword\">undefined</span><span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token constant\">COLUMN_KEY</span> <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"VIRTUAL_COLUMN\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nSelectQueryBuilder<span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">getAroundShop</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ë¨¼ì € ì›ì‹œ ë°ì´í„° ì¡°íšŒ ê²°ê³¼ë¥¼ ì–»ì–´ì˜¨ë‹¤</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> entities<span class=\"token punctuation\">,</span> raw <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">getRawAndEntities</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> flag <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> items <span class=\"token operator\">=</span> entities<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>entitiy<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// ì›ì‹œ ê²°ê³¼ì—ì„œ í•„ìš”ì—†ëŠ” ë°ì´í„°ë¥¼ ì³ë‚´ê¸° ìœ„í•´ ë°˜ë³µë¬¸ì„ ëŒë ¤ì¤€ë‹¤.</span>\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>flag <span class=\"token operator\">===</span> raw<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"staions_id\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            idx<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\">// ì•ì „ì— ì‘ì„±í•œ ë°ì½”ë ˆì´í„°ë¥¼ COLUMN_KEYë¡œ ì¸ì‹í•˜ê²Œ í•œë‹¤.</span>\n        <span class=\"token keyword\">const</span> metaInfo <span class=\"token operator\">=</span> Reflect<span class=\"token punctuation\">.</span><span class=\"token function\">getMetadata</span><span class=\"token punctuation\">(</span><span class=\"token constant\">COLUMN_KEY</span><span class=\"token punctuation\">,</span> entitiy<span class=\"token punctuation\">)</span> <span class=\"token operator\">??</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> raw<span class=\"token punctuation\">[</span>idx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>propertyKey<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">]</span> <span class=\"token keyword\">of</span> Object<span class=\"token punctuation\">.</span><span class=\"token generic-function\"><span class=\"token function\">entries</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span><span class=\"token builtin\">string</span><span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span>metaInfo<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            entitiy<span class=\"token punctuation\">[</span>propertyKey<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span>name<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        flag <span class=\"token operator\">=</span> item<span class=\"token punctuation\">[</span><span class=\"token string\">\"stations_id\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> entitiy<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// distanceë¥¼ í¬í•¨í•œ ë°ì´í„°ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>items<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p>ì´ë ‡ê²Œ ë˜ë©´ ê¸°ì¡´ Typeormì˜ <code class=\"language-text\">getRawMany()</code>ì˜ ê¸°ëŠ¥ê³¼ ê±°ì˜ ë¹„ìŠ·í•˜ê²Œ ë§Œë“  <code class=\"language-text\">getAroundShop()</code>í•¨ìˆ˜ê°€ ë§Œë“¤ì–´ ì¡Œë‹¤.<br/>\nì´ë ‡ê²Œ ë˜ë©´ ì›ë˜ ì›í–ˆë˜ ë¶€ëª¨ ê°ì²´ ì•ˆì— joinëœ ê°ì²´ë“¤ì´ ë°°ì—´ì„ ì´ë¤„ ë°˜í™˜ì´ ë  ê²ƒì´ë‹¤.<br/></p>\n<br/>\n<h3 id=\"code-classlanguage-textgetaroundshop-ì‚¬ìš©-ì‹œcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textgetaroundshop-%EC%82%AC%EC%9A%A9-%EC%8B%9Ccode\" aria-label=\"code classlanguage textgetaroundshop ì‚¬ìš© ì‹œcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">getAroundShop() ì‚¬ìš© ì‹œ</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getRepository <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typeorm\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getAroundShop <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@modules/queryBuilder\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Stations <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@entities/stations\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Shops <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@entities/shops\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n    lat: 37.57418192,\n    lon: 127.015664,\n    radius(ê¸°ì¤€ km): 2\n*/</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">aroundStation</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>lat<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> lon<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getRepository</span><span class=\"token punctuation\">(</span>Stations<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">createQueryBuilder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stations\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">addSelect</span><span class=\"token punctuation\">(</span>\n                <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">6371 * acos(cos(radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lat<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) * cos(radians(latitude)) * cos(radians(longitude) - radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lon<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) + sin(radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lat<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) * sin(radians(latitude)))</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"distance\"</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">leftJoinAndSelect</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stations.shops\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"shops\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">having</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">distance &lt;= </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"distance\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ASC\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getAroundShop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">aroundStation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<blockquote>\n<p>Entity joiní•˜ëŠ” ë°©ë²•ì€ <a href=\"https://typeorm.io\">Typeorm ê³µì‹ë¬¸ì„œ</a>ë¥¼ ì°¸ì¡°í•˜ì!</p>\n</blockquote>\n<br/>\n<h2 id=\"-ê°€ìƒ-ì»¬ëŸ¼ì„-í†µí•œ-ë°ì´í„°-ì¡°íšŒ\" style=\"position:relative;\"><a href=\"#-%EA%B0%80%EC%83%81-%EC%BB%AC%EB%9F%BC%EC%9D%84-%ED%86%B5%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A1%B0%ED%9A%8C\" aria-label=\" ê°€ìƒ ì»¬ëŸ¼ì„ í†µí•œ ë°ì´í„° ì¡°íšŒ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¥³ ê°€ìƒ ì»¬ëŸ¼ì„ í†µí•œ ë°ì´í„° ì¡°íšŒ</h2>\n<br/>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span>\n    Stations <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        station<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ëŒ€ë¬¸ì—­ 2ë²ˆì¶œêµ¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57198805</span><span class=\"token punctuation\">,</span>\n        longitude<span class=\"token operator\">:</span> <span class=\"token number\">127.0117451</span><span class=\"token punctuation\">,</span>\n        shops<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ì°¬ì´ë„¤\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n                stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ì‚¬ì™•ì´ë„¤\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                id<span class=\"token operator\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n                stationId<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n                shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"ìŠ¹í•œì´ë„¤\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">0.4228400907307967</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Stations <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        station<span class=\"token operator\">:</span> <span class=\"token string\">\"ì›ë‚¨ë™ ì‚¬ê±°ë¦¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57578617</span><span class=\"token punctuation\">,</span>\n        longitude<span class=\"token operator\">:</span> <span class=\"token number\">126.998124</span><span class=\"token punctuation\">,</span>\n        shops<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token punctuation\">{</span>\n                id<span class=\"token operator\">:</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span>\n                stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n                shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"í¬ë˜í”„íŠ¸ í•œìŠ¤\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                id<span class=\"token operator\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n                stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n                shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"í°í†µì¹˜í‚¨\"</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                id<span class=\"token operator\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span>\n                stationId<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n                shopName<span class=\"token operator\">:</span> <span class=\"token string\">\"BBQ\"</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">1.5482886513847316</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<br/>\n<p>ì´ë¡œì¨ í…Œì´ë¸”ì— ì¡´ì¬í•˜ì§€ ì•ŠëŠ” íŠ¹ì • ë°ì´í„°ë¥¼ í¬í•¨í•´ ì¡°íšŒí•˜ëŠ” ë¡œì§ì„ ì™„ì„±í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.<br/>\nì´ê²Œ íŠ¹ë³„í•œ ê¸°ëŠ¥ì€ ì•„ë‹Œê²ƒ ê°™ì€ë° Typeormì—ì„œ ì •ì‹ìœ¼ë¡œ ì§€ì›í•´ ì£¼ì§€ ì•ŠëŠ” ë°”ëŒì— ëª‡ì¼ ê°œê³ ìƒì„ í•´ì„œ ì°¾ê³  êµ¬í˜„ì„ í•˜ê²Œ ë˜ì—ˆë‹¤.<br/>\ní›„â€¦ğŸ˜‘ ì™œ ì´ë ‡ê²Œ í•„ìš”í•˜ê³  ì´ê²Œ ì•ˆë¼? ë¼ëŠ” ê¸°ëŠ¥ì´ ê³µì‹ ì§€ì›ì´ ì•ˆë¼ ê°œê³ ìƒì„ í•´ì•¼í•˜ëŠ”ì§€ ëª¨ë¥´ê² ì§€ë§Œâ€¦ ì–´ì¨‹ë“  ê²°ê³¼ê°€ ì¢‹ì•˜ìœ¼ë‹ˆ ëœê²ƒ ê°™ë‹¤â€¦ğŸ˜…<br/></p>\n<blockquote>\n<p>0.2.37 ë²„ì „ì—ì„œ ì§€ì› í•´ì¤€ë‹¤ í–ˆìœ¼ë©´ì„œ ì•„ì§ë„ ì•ˆí•´ì£¼ë„¤â€¦</p>\n</blockquote>\n<br/>\n<h2 id=\"-ì°¸ê³ -ìë£Œ\" style=\"position:relative;\"><a href=\"#-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\" ì°¸ê³  ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“š ì°¸ê³  ìë£Œ</h2>\n<ul>\n<li>Virtual Column solutions for TypeORM</li>\n</ul>\n<blockquote>\n<p><a href=\"https://pietrzakadrian.com/blog/virtual-column-solutions-for-typeorm\">https://pietrzakadrian.com/blog/virtual-column-solutions-for-typeorm</a></p>\n</blockquote>\n<br/>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#ullia-hrefhttpsseongsumetypeorm-virtual-column-1-target_blanktypeorm-virtual-column-%EC%84%A4%EC%A0%95-1aliul\"><ul><li><a href=\"https://seongsu.me/typeorm-virtual-column-1\" target=\"_blank\">Typeorm Virtual Column ì„¤ì • (1)</a></li></ul></a></p>\n</li>\n<li>\n<p><a href=\"#-custom-virtual-column%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4%EC%95%BC-%ED%95%98%EB%8A%94-%EC%9D%B4%EC%9C%A0\">ğŸ˜µâ€ğŸ’« Custom Virtual Columnì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ </a></p>\n<ul>\n<li><a href=\"#span-stylecolor-redgetrawmany%EC%9D%98-%EB%AC%B8%EC%A0%9Cspan\"><span style=\"color: red\">getRawMany()ì˜ ë¬¸ì œ</span></a></li>\n<li><a href=\"#span-stylecolor-redgetmany%EC%9D%98-%EB%AC%B8%EC%A0%9Cspan\"><span style=\"color: red\">getMany()ì˜ ë¬¸ì œ</span></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-custom-virtual-column%EC%9D%84-%EC%82%AC%EC%9A%A9%ED%95%B4-%EB%B3%B4%EC%9E%90\">ğŸ¤© Custom Virtual Columnì„ ì‚¬ìš©í•´ ë³´ì</a></p>\n<ul>\n<li><a href=\"#modulesdecoratorts\"><code class=\"language-text\">@modules/decorator.ts</code></a></li>\n<li><a href=\"#entitiesstationsts\"><code class=\"language-text\">@entities/stations.ts</code></a></li>\n<li><a href=\"#modulesquerybuilderts\"><code class=\"language-text\">@modules/queryBuilder.ts</code></a></li>\n<li><a href=\"#getaroundshop-%EC%82%AC%EC%9A%A9-%EC%8B%9C\"><code class=\"language-text\">getAroundShop() ì‚¬ìš© ì‹œ</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EA%B0%80%EC%83%81-%EC%BB%AC%EB%9F%BC%EC%9D%84-%ED%86%B5%ED%95%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A1%B0%ED%9A%8C\">ğŸ¥³ ê°€ìƒ ì»¬ëŸ¼ì„ í†µí•œ ë°ì´í„° ì¡°íšŒ</a></p>\n</li>\n<li>\n<p><a href=\"#-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">ğŸ“š ì°¸ê³  ìë£Œ</a></p>\n</li>\n</ul>\n</div>","excerpt":"Typeorm Virtual Column ì„¤ì • (1) ì´ì „ í¬ìŠ¤íŒ…ì—ì„œ í•¨ìˆ˜ì™€ í•¨ìˆ˜ì˜ ì°¨ì´ì ì„ ì•Œì•„ë³´ê²Œ ë˜ì—ˆëŠ”ë°\nì´ë²ˆ í¬ìŠ¤íŒ…ì—ì„  ê°€ìƒì»¬ëŸ¼ì„ ì‚¬ìš©í•˜ë©° joinì‹œ ìœ„ í•¨ìˆ˜ì˜ ë¬¸ì œì™€ í•´ê²°ë²•ì„ í¬ìŠ¤íŒ… í•´ë³´ë ¤ í•œë‹¤. ğŸ˜µâ€ğŸ’« Custom Virtual Columnì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ  ì˜ˆë¥¼ë“¤ì–´ ìœ„ì²˜ëŸ¼ ë²„ìŠ¤ ì •ë¥˜ì†Œì™€ ì£¼ë³€ ë§›ì§‘ì´ ì •ë¥˜ì†Œ pkë¥¼ í†µí•´ foreign keyë¡œ ì—°ê²°ì´ ë˜ì–´ìˆë‹¤ ê°€ì •í•´ ë³´ì. ì´ë ‡ê²Œ ì •ë¥˜ì†Œì™€ ì£¼ë³€ ë§›ì§‘ì˜ ê´€ê³„ê°€ ë§ºì–´ì ¸ ìˆëŠ” ìƒí™©ì—ì„œ í˜„ì¬ ê±°ë¦¬ ê¸°ì¤€ 2km ì´ë‚´ ì •ë¥˜ì†Œ ì£¼ë³€ ë§›ì§‘ì„ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? getRawMany()ì˜ ë¬¸ì œ ì§€ê¸ˆ ë³´ë‹ˆ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë‹ˆ ê°€ìƒ ì»¬ëŸ¼ íš¨ê³¼ë¥¼ ë‚¸ ê²ƒ ê°™ì€ë° í•´ê²°ëœê±° ì•„ë‹ˆëƒ? í•  ìˆ˜ ìˆë‹¤.\nê·¸ëŸ°ë° ë¬¸ì œëŠ” ì§€ê¸ˆë¶€í„°ì´ë‹¤. ì—¬ê¸°ì„œ  ë˜ëŠ” ì„ í•  ê²½ìš°  ìœ„ì²˜ëŸ¼ ë¥¼ ì¶”ê°€í•´ ì¡°íšŒ í•  ê²½ìš°\nì›ë˜ ëŒ€ë¡œë©´ ë¶€ëª¨ ê°ì²´ ì•ˆì— joinëœ ê°ì²´ë“¤ì´ ë°°ì—´ì„ ì´ë¤„ ì§€ì •í•œ keyì˜ ë°°ì—´ë¡œ ì €ì¥ì´ ë˜ì–´ì•¼ í•œë‹¤.\ní•˜ì§€ë§Œ ë¥¼ ì‚¬ìš©í•˜ë©´ ë¶€ëª¨ê°ì²´ì™€ì˜ ì˜ì¡´ì„±ì´ ëª¨ë‘â€¦","frontmatter":{"date":"January 17, 2022","title":"Typeorm Virtual Column ì„¤ì • (2)","categories":"Node.js Express","author":"seongsu","emoji":"ğŸ”Ÿ"},"fields":{"slug":"/typeorm-virtual-column-2/"}},"next":{"id":"726a4e0e-7e34-52ae-8aa8-65dfced5f446","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 46.111111111111114%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIklEQVQoz5WST0/CQBDF+9U9EWMgGEhM/ATejCetXLl556DZGv4WUiBuaCnddudn2gUsiRGcZHY3b2fevJldj9JEqg2rIf6gbrJ5LxekHveHeSKCFHmVIP4dol7YZBb9tXYk6hl5vXf3RY61tvIqr+aunuBVh3xP2Glj1YhVkrAIQ7ZlcDBCOrdnlR1IvSN7WbVxhSwj5qsV08mExBiKRQjNBlEU0e/36fV6+L6P1rryOI5PFR5ll0D7BjsPWccxyyhis9tRhFNoXZNZIZzN+AwCBoMBSZKQpinGmN9aNo6w20SUYq414+GQrMSUQrqtQ2OXtSy2cODbAxI8YQSydOsig0eH/+dRTornula1VK+58Mc4hRxnWJtlDftpZ6/kDPM3H6637KPjZfIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"typeorm.png\"\n        title=\"typeorm.png\"\n        src=\"/static/e4b90acf02bd52801818ca0004fdd1f1/37523/typeorm.png\"\n        srcset=\"/static/e4b90acf02bd52801818ca0004fdd1f1/e9ff0/typeorm.png 180w,\n/static/e4b90acf02bd52801818ca0004fdd1f1/f21e7/typeorm.png 360w,\n/static/e4b90acf02bd52801818ca0004fdd1f1/37523/typeorm.png 720w,\n/static/e4b90acf02bd52801818ca0004fdd1f1/00d43/typeorm.png 1000w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br/>\n<h2 id=\"ullia-hrefhttpsseongsumetypeorm-virtual-column-2-target_blanktypeorm-virtual-column-ì„¤ì •-2aliul\" style=\"position:relative;\"><a href=\"#ullia-hrefhttpsseongsumetypeorm-virtual-column-2-target_blanktypeorm-virtual-column-%EC%84%A4%EC%A0%95-2aliul\" aria-label=\"ullia hrefhttpsseongsumetypeorm virtual column 2 target_blanktypeorm virtual column ì„¤ì • 2aliul permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><ul><li><a href=\"https://seongsu.me/typeorm-virtual-column-2\" target=\"_blank\">Typeorm Virtual Column ì„¤ì • (2)</a></li></ul></h2>\n<br/>\n<br/>\n<p>Typeormì„ ì‚¬ìš©í•˜ë©° ëŒ€ë¶€ë¶„ ë§ˆìŒì— ë“¤ì—ˆëŠ”ë° í•œê°€ì§€ ë”± ì•„ì‰¬ìš´ ë¶€ë¶„ì´ ìˆë‹¤â€¦<br/>\nMysqlì—ì„œëŠ” í…Œì´ë¸”ì— íŠ¹ì • ì»¬ëŸ¼ì´ ì—†ì–´ë„ SELECTì‹œì— ìƒˆë¡œ ë§Œë“¤ì–´ ì¶œë ¥ í•  ìˆ˜ ìˆë‹¤.<br/>\ní˜„ì¬ Typeormì— ê°€ìƒ ì»¬ëŸ¼ ê¸°ëŠ¥ì´ ìˆê¸´ í•œë° ì›í•˜ëŠ” ëª©ì ê³¼ ì¢€ ë‹¬ë¼ì„œ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ê°€ê³µ í›„ ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ì¶”ê°€ í•´ return ë°›ì„ ìˆ˜ ìˆê²Œ ê°€ìƒ ì»¬ëŸ¼ì— ê´€í•´ í¬ìŠ¤íŒ… í•˜ë ¤ í•œë‹¤.<br/></p>\n<blockquote>\n<p>Typeorm ë²„ì „ 0.2.37ì— ê°€ìƒì»¬ëŸ¼ ì—…ë°ì´íŠ¸ ë ê±°ë¼ëŠ” ì–˜ê¸°ê°€ ìˆì—ˆì§€ë§Œ í˜„ì¬ 0.2.41 ë²„ì „ê¹Œì§€ ì§€ì›ì´ ì•ˆë˜ê³  ìˆë‹¤â€¦</p>\n</blockquote>\n<br/>\n<h2 id=\"-ê°€ìƒ-ì»¬ëŸ¼ì´ë€\" style=\"position:relative;\"><a href=\"#-%EA%B0%80%EC%83%81-%EC%BB%AC%EB%9F%BC%EC%9D%B4%EB%9E%80\" aria-label=\" ê°€ìƒ ì»¬ëŸ¼ì´ë€ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“ ê°€ìƒ ì»¬ëŸ¼ì´ë€?</h2>\n<br/>\n<p>Mysql 5.7 ë¶€í„° ì§€ì›ë˜ëŠ” ê°€ìƒ ì»¬ëŸ¼ì€ ê°€ìƒì˜ ì»¬ëŸ¼ì„ ë‘¬ì„œ ìˆ˜ì‹ê³¼ ì¡°ê±´ë¬¸ì„ ì‚¬ìš©í•´ ë°ì´í„°ì˜ ê°€ê³µ ê²°ê³¼ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì„ ë§í•œë‹¤. ì‚¬ìš© ë°©ë²•ì€ PERSISTENT(stored)ì™€ VIRTUAL(generated-only)ì´ë¼ëŠ” ë‘ ê°€ì§€ íƒ€ì…ì´ ì¡´ì¬í•˜ê³  ë””í´íŠ¸ëŠ” PERSISTENT ì´ë‹¤<br/>\nPERSISTENT virtual columnsì€ ì‹¤ì œ ë°ì´í„°ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ëŠ” íŠ¹ì„±ì„ ê°–ê²Œ ë˜ë©°, VIRTUAL virtual columnsì€ ì‹¤ì œ ë°ì´í„°ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë˜ì§€ ì•Šê³  ê·¸ë•Œ ê·¸ë•Œ ê³„ì‚°ë¼ ë³´ì—¬ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.<br/></p>\n<blockquote>\n<p>ì´ í¬ìŠ¤íŒ…ì—ì„œ ì‚¬ìš©í•˜ëŠ” íƒ€ì…ì€ <strong>VIRTUAL</strong> ì´ë‹¤.</p>\n</blockquote>\n<br/>\n<h2 id=\"-ë°ì´í„°-ì¡°íšŒ\" style=\"position:relative;\"><a href=\"#-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A1%B0%ED%9A%8C\" aria-label=\" ë°ì´í„° ì¡°íšŒ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¤” ë°ì´í„° ì¡°íšŒ</h2>\n<br/>\n<p>ì˜ˆë¥¼ë“¤ì–´ ë°ì´í„°ë² ì´ìŠ¤ ê° í–‰ì— ë²„ìŠ¤ ì •ë¥˜ì†Œì˜ ìœ„ë„, ê²½ë„ ê°’ì´ ì €ì¥ì´ ë¼ ìˆë‹¤.<br/></p>\n<pre class=\"language-plain\">\n<span style=\"color: red;\">í˜„ì¬ ìœ„ì¹˜</span> : 37.57418192 127.015664 (ë¡¯ë°ìºìŠ¬ ì²œì§€ì¸ ì •ë¥˜ì†Œ)\n\n<span style=\"color: skyblue;\">ëª©í‘œ ì •ë¥˜ì†Œ1</span> : 37.57198805 127.0117451 (ë™ëŒ€ë¬¸ì—­ 2ë²ˆì¶œêµ¬ ì •ë¥˜ì†Œ)\n<span style=\"color: skyblue;\">ëª©í‘œ ì •ë¥˜ì†Œ2</span> : 37.57578617 126.998124 (ì›ë‚¨ë™ ì‚¬ê±°ë¦¬ ì •ë¥˜ì†Œ)\n<span style=\"color: skyblue;\">ëª©í‘œ ì •ë¥˜ì†Œ3</span> : 37.58630021 126.9853527 (ê°ì‚¬ì› ì •ë¥˜ì†Œ)\n</pre>\n<p>ì—¬ê¸°ì„œ í˜„ì¬ ìœ„ì¹˜ ì¢Œí‘œ ê¸°ì¤€ ì§ì„ ê±°ë¦¬ 2km ì´ë‚´ì˜ ë°ì´í„°ë§Œ ì¡°íšŒí•˜ë ¤ í•˜ë©°<br/>\nê° ë°ì´í„°ë§ˆë‹¤ ê±°ë¦¬ê°€ ì–¼ë§ˆë‚˜ ì°¨ì´ ë‚˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆê²Œ <code class=\"language-text\">distance</code>ë¼ëŠ” keyë¥¼ ê°€ì§„ ì»¬ëŸ¼ì„ ì¶”ê°€í•´ ì¡°íšŒí•˜ë ¤ í•œë‹¤ê³  ê°€ì •í•´ ë³´ì.<br/></p>\n<br/>\n<h3 id=\"code-classlanguage-textentitiesstationstscode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textentitiesstationstscode\" aria-label=\"code classlanguage textentitiesstationstscode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">@entities/stations.ts</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Entity<span class=\"token punctuation\">,</span> PrimaryGeneratedColumn<span class=\"token punctuation\">,</span> Column <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typeorm\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Entity</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stations\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Stations</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">PrimaryGeneratedColumn</span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    id<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"varchar\"</span><span class=\"token punctuation\">)</span>\n    station<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"double\"</span><span class=\"token punctuation\">)</span>\n    latitude<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token decorator\"><span class=\"token at operator\">@</span><span class=\"token function\">Column</span></span><span class=\"token punctuation\">(</span><span class=\"token string\">\"double\"</span><span class=\"token punctuation\">)</span>\n    longitude<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Data Mapper í˜•ì‹ìœ¼ë¡œ Entityë¥¼ ìƒì„±í•œë‹¤.</p>\n</blockquote>\n<br/>\n<p>ìš°ì„  ìœ„ë„, ê²½ë„ ê°’ì„ <code class=\"language-text\">double</code>í˜•ì‹ìœ¼ë¡œ ê°–ëŠ” Entityë¥¼ ì„¤ì • í•´ ì¤€ë‹¤.<br/>\nê·¸ ë’¤ <code class=\"language-text\">getMany()</code>í•¨ìˆ˜ë¡œ í˜¸ì¶œ í•  ë•Œ, <code class=\"language-text\">getRawMany()</code>í•¨ìˆ˜ë¡œ í˜¸ì¶œ í•  ë•Œë¥¼ ë‚˜ëˆ  ì˜ˆë¥¼ ë“¤ì–´ ë³´ê² ë‹¤.<br/></p>\n<blockquote>\n<p>floatí˜•ì‹ìœ¼ë¡œ ì •í•  ì‹œ ì¢Œí‘œê°€ ì†Œìˆ«ì  5ìë¦¬ë¶€í„° ì˜ë¦¬ëŠ” í˜„ìƒì´ ë°œìƒí•˜ë‹ˆ doubleë¡œ ì„¤ì •í•´ì£¼ì</p>\n</blockquote>\n<br/>\n<h3 id=\"code-classlanguage-textgetmany-ì‚¬ìš©-ì‹œcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textgetmany-%EC%82%AC%EC%9A%A9-%EC%8B%9Ccode\" aria-label=\"code classlanguage textgetmany ì‚¬ìš© ì‹œcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">getMany() ì‚¬ìš© ì‹œ</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getRepository <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typeorm\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Stations <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@entities/stations\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n    lat: 37.57418192,\n    lon: 127.015664,\n    radius(ê¸°ì¤€ km): 2\n*/</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">findAroundLocation</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>lat<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> lon<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getRepository</span><span class=\"token punctuation\">(</span>Stations<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">createQueryBuilder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stations\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">addSelect</span><span class=\"token punctuation\">(</span>\n                <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">6371 * acos(cos(radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lat<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) * cos(radians(latitude)) * cos(radians(longitude) - radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lon<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) + sin(radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lat<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) * sin(radians(latitude)))</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"distance\"</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">having</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">distance &lt;= </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"distance\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ASC\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getMany</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">findAroundLocation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong><code class=\"language-text\">Return</code></strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span>\n    Stations <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        station<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ëŒ€ë¬¸ì—­ 2ë²ˆì¶œêµ¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57198805</span><span class=\"token punctuation\">,</span>\n        longitude<span class=\"token operator\">:</span> <span class=\"token number\">127.0117451</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Stations <span class=\"token punctuation\">{</span>\n        id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        station<span class=\"token operator\">:</span> <span class=\"token string\">\"ì›ë‚¨ë™ ì‚¬ê±°ë¦¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57578617</span><span class=\"token punctuation\">,</span>\n        longitude<span class=\"token operator\">:</span> <span class=\"token number\">126.998124</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<blockquote>\n<p>í˜„ì¬ ì¢Œí‘œì™€ ëª©í‘œ ì •ë¥˜ì†Œ3ì˜ ì¢Œí‘œê°„ ê±°ë¦¬ê°€ 2kmê°€ ë„˜ê¸° ë•Œë¬¸ì— ì¡°íšŒë˜ì§€ ì•ŠëŠ”ë‹¤.<br/>\nì‹¤ ê±°ë¦¬ê°€ ì•½ 3km (2.991km) ì´ê¸° ë•Œë¬¸ì´ë‹¤.<br/></p>\n</blockquote>\n<br/>\n<p>ë¶„ëª… <code class=\"language-text\">addSelect()</code>í•¨ìˆ˜ì— ë‘ ì¢Œí‘œê°„ ê±°ë¦¬ êµ¬í•˜ëŠ” ê³µì‹ê³¼ ì»¬ëŸ¼ëª…ì„ ì§€ì •í•´ ì¤¬ëŠ”ë° ê²°ê³¼ì—ëŠ” <code class=\"language-text\">distance</code>ê°€ ë‚˜ì˜¤ì§€ ì•ŠëŠ”ë‹¤.<br/>\nì™œëƒí•˜ë©´ DBì—ì„œ ë‹¨ì¼í•œ ê²°ê³¼ë¥¼ ê°€ì ¸ì˜¤ëŠ” <code class=\"language-text\">getMany()</code>í•¨ìˆ˜ì˜ íŠ¹ì„±ìƒ ì¿¼ë¦¬ë¬¸ì—ì„œ ì ìš©í•œ ë°ì´í„°ëŠ” ì¶œë ¥ì´ ì•ˆë˜ê³  ê³„ì‚°ì—ë§Œ ì‚¬ìš©ì´ ëœë‹¤.<br/></p>\n<br/>\n<h3 id=\"code-classlanguage-textgetrawmany-ì‚¬ìš©-ì‹œcode\" style=\"position:relative;\"><a href=\"#code-classlanguage-textgetrawmany-%EC%82%AC%EC%9A%A9-%EC%8B%9Ccode\" aria-label=\"code classlanguage textgetrawmany ì‚¬ìš© ì‹œcode permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><code class=\"language-text\">getRawMany() ì‚¬ìš© ì‹œ</code></h3>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> getRepository <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"typeorm\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Stations <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@entities/stations\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">/**\n    lat: 37.57418192,\n    lon: 127.015664,\n    radius(ê¸°ì¤€ km): 2\n*/</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">aroundStation</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span>lat<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> lon<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">,</span> radius<span class=\"token operator\">:</span> <span class=\"token builtin\">number</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getRepository</span><span class=\"token punctuation\">(</span>Stations<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">createQueryBuilder</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"stations\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">select</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">addSelect</span><span class=\"token punctuation\">(</span>\n                <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">6371 * acos(cos(radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lat<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) * cos(radians(latitude)) * cos(radians(longitude) - radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lon<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) + sin(radians(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>lat<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">)) * sin(radians(latitude)))</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n                <span class=\"token string\">\"distance\"</span>\n            <span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">having</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">distance &lt;= </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>radius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">orderBy</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"distance\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"ASC\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">getRawMany</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token builtin\">console</span><span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">aroundStation</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<br/>\n<p><strong><code class=\"language-text\">Return</code></strong></p>\n<div class=\"gatsby-highlight\" data-language=\"ts\"><pre class=\"language-ts\"><code class=\"language-ts\"><span class=\"token punctuation\">[</span>\n    Stations <span class=\"token punctuation\">{</span>\n        stations_id<span class=\"token operator\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        stations_station<span class=\"token operator\">:</span> <span class=\"token string\">\"ë™ëŒ€ë¬¸ì—­ 2ë²ˆì¶œêµ¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        stations_latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57198805</span><span class=\"token punctuation\">,</span>\n        stations_longitude<span class=\"token operator\">:</span> <span class=\"token number\">127.0117451</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">0.4228400907307967</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    Stations <span class=\"token punctuation\">{</span>\n        stations_id<span class=\"token operator\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n        stations_station<span class=\"token operator\">:</span> <span class=\"token string\">\"ì›ë‚¨ë™ ì‚¬ê±°ë¦¬ ì •ë¥˜ì†Œ\"</span><span class=\"token punctuation\">,</span>\n        stations_latitude<span class=\"token operator\">:</span> <span class=\"token number\">37.57578617</span><span class=\"token punctuation\">,</span>\n        stations_longitude<span class=\"token operator\">:</span> <span class=\"token number\">126.998124</span><span class=\"token punctuation\">,</span>\n        distance<span class=\"token operator\">:</span> <span class=\"token number\">1.5482886513847316</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<blockquote>\n<p>distanceëŠ” í‚¬ë¡œë¯¸í„° ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°í•œ ê²°ê³¼ì´ë‹¤.</p>\n</blockquote>\n<br/>\n<p><code class=\"language-text\">getRawMany()</code>í•¨ìˆ˜ë¡œ ì¡°íšŒ ì‹œ ì›ì‹œ ê²°ê³¼ë¥¼ ì–»ì–´ì˜¤ê¸° ë•Œë¬¸ì— <code class=\"language-text\">addSelect()</code>í•¨ìˆ˜ì—ì„œ ì§€ì •í•œ <code class=\"language-text\">distance</code>ë¥¼ ê°–ê³ ì˜¬ ìˆ˜ ìˆë‹¤.<br/>\nì´ ê²½ìš° Mysql ê°€ìƒ ì»¬ëŸ¼ê³¼ ë§¤ìš° ë¹„ìŠ·í•œ ê²°ê³¼ë¥¼ ë„ì¶œí•  ìˆ˜ ìˆê²Œ ëœë‹¤.<br/>\ní•˜ì§€ë§Œ ê°ì²´ keyì— stations_ ê°€ ë¶™ì–´ ë‚˜ì˜¤ê²Œ ëœë‹¤.<br/>\nì´ ê²½ìš°ëŠ” <code class=\"language-text\">addSelect()</code>í•¨ìˆ˜ í˜¸ì¶œ ì´ì „ì— <code class=\"language-text\">select()</code>í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ <code class=\"language-text\">alias</code>ì„¤ì •ì„ í•´ì£¼ë©´ ì†ì‰½ê²Œ í•´ê²° ê°€ëŠ¥í•˜ë‹¤.<br/></p>\n<br/>\n<br/>\n<p>ì´ìƒ Mysqlì˜ ê°€ìƒ ì»¬ëŸ¼ì„ ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” Typeormì˜ ê¸°ëŠ¥ì„ í¬ìŠ¤íŒ… í–ˆë‹¤.<br/>\në‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œ ì™œ Custom Virtual Columnì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ì§€ ì´ìœ ì™€ í•¨ê»˜ í¬ìŠ¤íŒ… í•´ì•¼ê² ë‹¤.<br/></p>\n<br/>\n<h2 id=\"-ì°¸ê³ -ìë£Œ\" style=\"position:relative;\"><a href=\"#-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\" aria-label=\" ì°¸ê³  ìë£Œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ“š ì°¸ê³  ìë£Œ</h2>\n<blockquote>\n<p>Typeorm ê³µì‹ ë ˆí¼ëŸ°ìŠ¤</p>\n</blockquote>\n<ul>\n<li><a href=\"https://typeorm.io\">https://typeorm.io</a></li>\n</ul>\n<br/>\n<br/>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#ullia-hrefhttpsseongsumetypeorm-virtual-column-2-target_blanktypeorm-virtual-column-%EC%84%A4%EC%A0%95-2aliul\"><ul><li><a href=\"https://seongsu.me/typeorm-virtual-column-2\" target=\"_blank\">Typeorm Virtual Column ì„¤ì • (2)</a></li></ul></a></p>\n</li>\n<li>\n<p><a href=\"#-%EA%B0%80%EC%83%81-%EC%BB%AC%EB%9F%BC%EC%9D%B4%EB%9E%80\">ğŸ“ ê°€ìƒ ì»¬ëŸ¼ì´ë€?</a></p>\n</li>\n<li>\n<p><a href=\"#-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A1%B0%ED%9A%8C\">ğŸ¤” ë°ì´í„° ì¡°íšŒ</a></p>\n<ul>\n<li><a href=\"#entitiesstationsts\"><code class=\"language-text\">@entities/stations.ts</code></a></li>\n<li><a href=\"#getmany-%EC%82%AC%EC%9A%A9-%EC%8B%9C\"><code class=\"language-text\">getMany() ì‚¬ìš© ì‹œ</code></a></li>\n<li><a href=\"#getrawmany-%EC%82%AC%EC%9A%A9-%EC%8B%9C\"><code class=\"language-text\">getRawMany() ì‚¬ìš© ì‹œ</code></a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-%EC%B0%B8%EA%B3%A0-%EC%9E%90%EB%A3%8C\">ğŸ“š ì°¸ê³  ìë£Œ</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"January 15, 2022","title":"Typeorm Virtual Column ì„¤ì • (1)","categories":"Node.js Express","author":"seongsu","emoji":"9ï¸âƒ£"},"fields":{"slug":"/typeorm-virtual-column-1/"}},"prev":{"id":"47dfa43d-925a-5b74-9de6-34fdfa81e231","html":"<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.888888888888886%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAABJ0AAASdAHeZh94AAACbUlEQVQozwFiAp39AP7///////D19N3m5enx8OPs6trk4+Dp6P////////////////b8/Nrn59/m5uHo6ODq6vn9/f///////wD7//7s3N3GYmXFdHXDeHnBcHHBcHLCYmTPfH/3+vr9///Xm5zKVljGZGXFfX3CfX7DcHHOYWPHWlvs1dYA8fb33sbBvDEdv11LvWNPvVlGwF1IvkczwUs59/z9////xGNjuRwevzAxvFFRuUhIukJCwCorsRcZ4bW0AO/y9uncy++jPOuqT+arXuiqVumqV++nQ+2rV/f6/v///9GJjMWNkdKKj9GSmdKGjNOSmM6Qk756fua6ugD19frf4MiurxK3uCiuuUOxuDewukGysw+1tzv19Pr+//+0fXOzQjqdRzSRRS6TRC6ORSysSj2jOi/Xw74A/fj6xNzTApNjHJx5M52FIpt6MJ2DB5ZrKaB4+/f4////creiSqOWJZ96IZx1M6CCD5ptPKSNOpmHud3PAP/8+cXV4gFstRh6uS2BtyJ9tyl/tgBttyqBvPz59////2ygxid+tDiJv2KavG6hvE6QvTiLwSd8srnR4wD39/PMzt1CTqhQXq5caq5VY61daa9CUKteZ7H5+fb///6Rkbt4Zqd6bq59bax1aqt8bKqCcbFxYqTGyt4A+vv3zMfVNxhyTTR/WkiEUzyBV0SCNxpyVj6F/f78////l2yzYxmYfkajfEOheT6gfkeieDmiWQ+O0sDbAPr5+NHW20NfglVtjXSHm2h9lXGEmkRfg2F4lPr5+P7//bGcxI5mrph2tZd0s5Zzs5d0s5h0tYpjqt3U5KxveRvo7vKVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"osi7layer.png\"\n        title=\"osi7layer.png\"\n        src=\"/static/703b6e89250d4a58311399140af78483/37523/osi7layer.png\"\n        srcset=\"/static/703b6e89250d4a58311399140af78483/e9ff0/osi7layer.png 180w,\n/static/703b6e89250d4a58311399140af78483/f21e7/osi7layer.png 360w,\n/static/703b6e89250d4a58311399140af78483/37523/osi7layer.png 720w,\n/static/703b6e89250d4a58311399140af78483/00b70/osi7layer.png 733w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<h2 id=\"-osi-7ê³„ì¸µ\" style=\"position:relative;\"><a href=\"#-osi-7%EA%B3%84%EC%B8%B5\" aria-label=\" osi 7ê³„ì¸µ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸ¢ OSI 7ê³„ì¸µ</h2>\n<blockquote>\n<p>Open Systems Interconnection</p>\n</blockquote>\n<p>OSI 7ê³„ì¸µì´ë€ ë„¤íŠ¸ì›Œí¬ì—ì„œ í†µì‹ ì´ ì¼ì–´ë‚˜ëŠ” ê³¼ì •ì„ 7ë‹¨ê³„ë¡œ ë‚˜ëˆˆ ê²ƒì„ ë§í•œë‹¤.<br>\nê° ê³„ì¸µì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì„œ ë…ë¦½ì ì¸ ì—­í• ì„ í•  ìˆ˜ ìˆë‹¤.<br>\nì¶”ê°€ë¡œ ì—­í• ì„ ë¶„ë¦¬ë˜ë©´ì„œ ë¬¸ì œ ë°œìƒ ì‹œ ì–´ëŠ ê³„ì¸µì—ì„œ ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ì§€ íŒŒì•…ì´ ê°€ëŠ¥í•´ì§„ë‹¤.<br></p>\n<br>\n<h3 id=\"-ëª©ì \" style=\"position:relative;\"><a href=\"#-%EB%AA%A9%EC%A0%81\" aria-label=\" ëª©ì  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸš ëª©ì </h3>\n<p>OSI 7ê³„ì¸µì€ í”„ë¡œí† ì½œì„ ê¸°ëŠ¥ë³„ë¡œ ë‚˜ëˆˆ ê²ƒì´ë‹¤.<br>\nê° ê³„ì¸µì€ í•˜ìœ„ ê³„ì¸µì˜ ê¸°ëŠ¥ë§Œì„ ì´ìš©í•˜ê³ , ìƒìœ„ ê³„ì¸µì—ê²Œ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.<br>\n<code class=\"language-text\">í”„ë¡œí† ì½œ ìŠ¤íƒ</code>ì€ ì´ëŸ¬í•œ ê³„ì¸µë“¤ë¡œ êµ¬ì„±ë˜ëŠ” í”„ë¡œí† ì½œ ì‹œìŠ¤í…œì´ êµ¬í˜„ëœ ì‹œìŠ¤í…œì„ ê°€ë¦¬í‚¤ë©°,<br>\nì´ê²ƒì€ í•˜ë“œì›¨ì–´ë‚˜ ì†Œí”„íŠ¸ì›¨ì–´ í˜¹ì€ ë‘˜ì˜ í˜¼í•©ìœ¼ë¡œ êµ¬í˜„ë  ìˆ˜ ìˆë‹¤.<br>\nì¼ë°˜ì ìœ¼ë¡œ í•˜ìœ„ ê³„ì¸µë“¤ì€ í•˜ë“œì›¨ì–´ë¡œ, ìƒìœ„ ê³„ì¸µë“¤ì€ ì†Œí”„íŠ¸ì›¨ì–´ë¡œ êµ¬í˜„ëœë‹¤.<br></p>\n<br>\n<h3 id=\"-ê³„ì¸µ-ê¸°ëŠ¥\" style=\"position:relative;\"><a href=\"#-%EA%B3%84%EC%B8%B5-%EA%B8%B0%EB%8A%A5\" aria-label=\" ê³„ì¸µ ê¸°ëŠ¥ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸªœ ê³„ì¸µ ê¸°ëŠ¥</h3>\n<br>\n<h4 id=\"span-stylecolor-03154d1ï¸âƒ£-ë¬¼ë¦¬-ê³„ì¸µspan-physical-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-03154d1%EF%B8%8F%E2%83%A3-%EB%AC%BC%EB%A6%AC-%EA%B3%84%EC%B8%B5span-physical-layer\" aria-label=\"span stylecolor 03154d1ï¸âƒ£ ë¬¼ë¦¬ ê³„ì¸µspan physical layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #03154D\"><strong>1ï¸âƒ£ ë¬¼ë¦¬ ê³„ì¸µ</strong></span> (Physical Layer)</h4>\n<p>OSI ëª¨ë¸ ë§¨ ë°‘ì˜ ê³„ì¸µìœ¼ë¡œì„œ, ë„¤íŠ¸ì›Œí¬ ë°ì´í„°ê°€ ì „ì†¡ë˜ëŠ” ë¬¼ë¦¬ì ì¸ ë§¤ì²´ì´ë‹¤.<br>\në””ì§€í„¸ì—ì„œ ì•„ë‚ ë¡œê·¸ë¡œ ë³€í™˜ë˜ë©° ë˜ëŠ” ê·¸ ë°˜ëŒ€ì˜ ì‹ í˜¸ë¡œ ë³€í™˜ë˜ì–´ ë¬¼ë¦¬ì ì¸ ì „ì†¡ì´ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.<br>\në˜í•œ ì£¼ì†Œ ê°œë…ì´ ì—†ìœ¼ë©° ë¬¼ë¦¬ì ìœ¼ë¡œ ì—°ê²°ëœ ë…¸ë“œê°„ì— ì‹ í˜¸ë¥¼ ì£¼ê³  ë°›ëŠ”ë‹¤.<br></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">ë¹„íŠ¸(Bit)</code></li>\n</ul>\n<br>\n<blockquote>\n<p>ëŒ€í‘œì ì¸ í•˜ë“œì›¨ì–´ ì¥ë¹„ <a href=\"https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%ED%97%88%EB%B8%8C\">í—ˆë¸Œ</a>, <a href=\"https://ko.wikipedia.org/wiki/%EB%A6%AC%ED%94%BC%ED%84%B0\">ë¦¬í”¼í„°</a>, <a href=\"https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EC%96%B4%EB%8C%91%ED%84%B0\">ì–´ëŒ‘í„°</a>, <a href=\"https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8E%80\">ëª¨ë€</a></p>\n</blockquote>\n<br>\n<h4 id=\"span-stylecolor-5b1a8e2ï¸âƒ£-ë°ì´í„°-ë§í¬-ê³„ì¸µspan-datalink-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-5b1a8e2%EF%B8%8F%E2%83%A3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%81%ED%81%AC-%EA%B3%84%EC%B8%B5span-datalink-layer\" aria-label=\"span stylecolor 5b1a8e2ï¸âƒ£ ë°ì´í„° ë§í¬ ê³„ì¸µspan datalink layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #5B1A8E\"><strong>2ï¸âƒ£ ë°ì´í„° ë§í¬ ê³„ì¸µ</strong></span> (DataLink Layer)</h4>\n<p>Point to Point ê°„ ì‹ ë¢°ì„± ìˆëŠ” ì „ì†¡ì„ ë³´ì¥í•˜ê¸° ìœ„í•œ ê³„ì¸µì´ë‹¤.<br>\në„¤íŠ¸ì›Œí¬ ìœ„ì˜ ê°œì²´ë“¤ ê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ê³ , ë¬¼ë¦¬ ê³„ì¸µì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ë¥¼ ì°¾ì•„ë‚´ê³ , ìˆ˜ì •í•˜ëŠ”ë° í•„ìš”í•œ ê¸°ëŠ¥ì , ì ˆì°¨ì  ìˆ˜ë‹¨ì„ ì œê³µí•œë‹¤.<br>\nì£¼ì†Œ ê°’ì€ ë¬¼ë¦¬ì ìœ¼ë¡œ í• ë‹¹ ë°›ê²Œ ë˜ëŠ”ë°, ë„¤íŠ¸ì›Œí¬ ì¹´ë“œì˜ MAC ì£¼ì†Œë¥¼ ë°›ì•„ ëª©ì ì§€ë¥¼ ì°¾ì•„ê°„ë‹¤.<br></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">í”„ë ˆì„(Frame)</code></li>\n</ul>\n<br>\n<blockquote>\n<p>ëŒ€í‘œì ì¸ í•˜ë“œì›¨ì–´ ì¥ë¹„ <a href=\"https://ko.wikipedia.org/wiki/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC_%EB%B8%8C%EB%A6%AC%EC%A7%80\">ë¸Œë¦¿ì§€</a>, <a href=\"http://wiki.hash.kr/index.php/L2_%EC%8A%A4%EC%9C%84%EC%B9%98\">L2 switch</a>, <a href=\"https://ko.wikipedia.org/wiki/%EC%9D%B4%EB%8D%94%EB%84%B7\">ì´ë”ë„·</a> ë“±</p>\n</blockquote>\n<br>\n<h4 id=\"span-stylecolor-0b5bb53ï¸âƒ£-ë„¤íŠ¸ì›Œí¬-ê³„ì¸µspan-network-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-0b5bb53%EF%B8%8F%E2%83%A3-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EA%B3%84%EC%B8%B5span-network-layer\" aria-label=\"span stylecolor 0b5bb53ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ê³„ì¸µspan network layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #0B5BB5\"><strong>3ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ê³„ì¸µ</strong></span> (Network Layer)</h4>\n<p>ì—¬ëŸ¬ê°œì˜ ë…¸ë“œë¥¼ ê±°ì¹ ë•Œë§ˆë‹¤ ê²½ë¡œë¥¼ ì°¾ì•„ì£¼ëŠ” ì—­í• ì„ í•˜ëŠ” ê³„ì¸µì´ë‹¤.<br>\në‹¤ì–‘í•œ ê¸¸ì´ì˜ ë°ì´í„°ë¥¼ ë„¤íŠ¸ì›Œí¬ë¥¼ í†µí•´ ì „ë‹¬í•˜ê³ , ê·¸ ê³¼ì •ì—ì„œ ì „ì†¡ ê³„ì¸µ(4ê³„ì¸µ)ì´ ìš”êµ¬í•˜ëŠ” í’ˆì§ˆì„ ì œê³µí•˜ê¸° ìœ„í•œ ê¸°ëŠ¥ì , ì ˆì°¨ì  ìˆ˜ë‹¨ì„ ì œê³µí•œë‹¤.<br>\nìˆ˜ë§ì€ ë„¤íŠ¸ì›Œí¬ë“¤ì˜ ì—°ê²°ë¡œ ì´ë¤„ì§€ëŠ” ë„¤íŠ¸ì›Œí¬ ì†ì—ì„œ ì–´ë”˜ê°€ì— ìˆëŠ” ëª©ì ì§€ë¡œ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´, ë¼ìš°í„° ê¸°ëŠ¥ìœ¼ë¡œ IP ì£¼ì†Œë¥¼ ì´ìš©í•´ ê¸¸ì„ ì°¾ê³  í¬ì›Œë”©ì„ í•˜ì—¬ ë‹¤ìŒ ë¼ìš°í„°ì— ë°ì´í„°ë¥¼ ë„˜ê²¨ì¤€ë‹¤.<br></p>\n<br>\n<p><a href=\"https://velog.io/@hidaehyunlee/IP-address%EB%9E%80\">IP ì£¼ì†Œì— ê´€í•œ ì‰¬ìš´ ì„¤ëª…</a></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">íŒ¨í‚·(Packet)</code></li>\n</ul>\n<br>\n<blockquote>\n<p>ëŒ€í‘œì ì¸ í•˜ë“œì›¨ì–´ ì¥ë¹„ <a href=\"http://wiki.hash.kr/index.php/L3_%EC%8A%A4%EC%9C%84%EC%B9%98\">L3 Switch</a>, <a href=\"https://ko.wikipedia.org/wiki/%EB%9D%BC%EC%9A%B0%ED%84%B0\">ë¼ìš°í„°</a></p>\n</blockquote>\n<br>\n<h4 id=\"span-stylecolor-17a5424ï¸âƒ£-ì „ì†¡-ê³„ì¸µspan-transport-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-17a5424%EF%B8%8F%E2%83%A3-%EC%A0%84%EC%86%A1-%EA%B3%84%EC%B8%B5span-transport-layer\" aria-label=\"span stylecolor 17a5424ï¸âƒ£ ì „ì†¡ ê³„ì¸µspan transport layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #17A542\"><strong>4ï¸âƒ£ ì „ì†¡ ê³„ì¸µ</strong></span> (Transport Layer)</h4>\n<p>í†µì‹ ì„ í™œì„±í™”í•˜ê¸° ìœ„í•œ ê³„ì¸µì´ë‹¤.<br>\në³´í†µ TCP í”„ë¡œí† ì½œì„ ì´ìš©í•˜ë©°, í¬íŠ¸ë¥¼ ì—´ì–´ì„œ ì‘ìš©í”„ë¡œê·¸ë¨ë“¤ì´ ì „ì†¡ì„ í•  ìˆ˜ ìˆê²Œ í•œë‹¤.<br>\nì „ì†¡ ê³„ì¸µì€ ì–‘ ëë‹¨ì˜ ì‚¬ìš©ìë“¤ì´ ì‹ ë¢°ì„± ìˆëŠ” ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì„ ìˆ˜ ìˆë„ë¡ í•´ ì£¼ì–´, ìƒìœ„ ê³„ì¸µì—ì„œ ë°ì´í„° ì „ë‹¬ì˜ ìœ íš¨ì„±ì´ë‚˜ íš¨ìœ¨ì„±ì„ ìƒê°í•˜ì§€ ì•Šë„ë¡ í•´ì¤€ë‹¤.<br>\nì´ ê³„ì¸µê¹Œì§€ëŠ” ë¬¼ë¦¬ì ì¸ ê³„ì¸µì— ì†í•˜ë©° TCP/UDP í”„ë¡œí† ì½œì„ ì‚¬ìš©í•œë‹¤.<br></p>\n<br>\n<p><a href=\"https://velog.io/@hidaehyunlee/TCP-%EC%99%80-UDP-%EC%9D%98-%EC%B0%A8%EC%9D%B4\">TCPì™€ UDPì˜ ì°¨ì´ì </a></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">ì„¸ê·¸ë¨¼íŠ¸(Segment)</code></li>\n</ul>\n<br>\n<blockquote>\n<p>ëŒ€í‘œì ì¸ í•˜ë“œì›¨ì–´ ì¥ë¹„ <a href=\"http://wiki.hash.kr/index.php/L4_%EC%8A%A4%EC%9C%84%EC%B9%98\">L4 switch</a></p>\n</blockquote>\n<br>\n<h4 id=\"span-stylecolor-fcb40b5ï¸âƒ£-ì„¸ì…˜-ê³„ì¸µspan-session-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-fcb40b5%EF%B8%8F%E2%83%A3-%EC%84%B8%EC%85%98-%EA%B3%84%EC%B8%B5span-session-layer\" aria-label=\"span stylecolor fcb40b5ï¸âƒ£ ì„¸ì…˜ ê³„ì¸µspan session layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #FCB40B\"><strong>5ï¸âƒ£ ì„¸ì…˜ ê³„ì¸µ</strong></span> (Session Layer)</h4>\n<p>ë°ì´í„° í†µì‹ ì„ ìœ„í•œ ë…¼ë¦¬ì ì¸ ì—°ê²°ì„ ë‹´ë‹¹í•˜ëŠ” ê³„ì¸µì´ë‹¤.<br>\në°˜ì´ì¤‘ ë°©ì‹(Half Duplex), ì „ì´ì¤‘ ë°©ì‹(Full Duplex)ë“±ì˜ í†µì‹ ê³¼ í•¨ê¼, ì²´í¬í¬ì¸íŒ…ê³¼ ìœ íœ´, ì¢…ë£Œ, ë‹¤ì‹œ ì‹œì‘ ê³¼ì • ë“±ì„ ìˆ˜í–‰í•œë‹¤.<br>\nì´ ê³„ì¸µì€ TCP/IP ì„¸ì…˜ì„ ë§Œë“¤ê³  ì—†ì• ëŠ” ì±…ì„ì„ ì§„ë‹¤.<br></p>\n<br>\n<p><a href=\"https://ko.wikipedia.org/wiki/%EC%9D%B4%EC%A4%91%ED%86%B5%EC%8B%A0\">ì´ì¤‘ í†µì‹  ì´ë€?</a><br>\n<a href=\"https://88240.tistory.com/190\">Session ì´ë€?</a></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">ë°ì´í„°(Data) ë˜ëŠ” ë©”ì„¸ì§€(Message)</code></li>\n</ul>\n<br>\n<h4 id=\"span-stylecolor-f483386ï¸âƒ£-í‘œí˜„-ê³„ì¸µspan-presentation-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-f483386%EF%B8%8F%E2%83%A3-%ED%91%9C%ED%98%84-%EA%B3%84%EC%B8%B5span-presentation-layer\" aria-label=\"span stylecolor f483386ï¸âƒ£ í‘œí˜„ ê³„ì¸µspan presentation layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #F48338\"><strong>6ï¸âƒ£ í‘œí˜„ ê³„ì¸µ</strong></span> (Presentation Layer)</h4>\n<p>ì‘ìš© ê³„ì¸µìœ¼ë¡œë¶€í„° ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ê³„ì¸µì´ë‹¤.<br>\ní‘œí˜„ ê³„ì¸µì€ ì‘ìš© ê³„ì¸µì˜ ë¶€ë‹´ì„ ëœì–´ì£¼ëŠ” ì—­í• ì´ ë˜ê¸°ë„ í•œë‹¤.<br>\nì‘ìš© ê³„ì¸µìœ¼ë¡œë¶€í„° ì „ì†¡ë°›ê±°ë‚˜ ì „ë‹¬í•´ì•¼í•˜ëŠ” ë°ì´í„°ì˜ ì¸ì½”ë”©ê³¼ ë””ì½”ë”©ì´ ì´ ê³„ì¸µì—ì„œ ì´ë¤„ì§€ë©° ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì•”í˜¸í™”ì™€ ë³µí˜¸í™”ë„ ì´ ê³„ì¸µì—ì„œ ì§„í–‰ëœë‹¤.<br>\nì˜ˆë¥¼ë“¤ì–´ ìœ ë‹ˆì½”ë“œë¡œ ì¸ì½”ë”© ë˜ì–´ìˆëŠ” ë¬¸ì„œë¥¼ ASCIIì½”ë“œë¡œ ë³€í™˜í•´ ì¤€ë‹¤.<br></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">ë°ì´í„°(Data)</code></li>\n</ul>\n<br>\n<h4 id=\"span-stylecolor-b100077ï¸âƒ£-ì‘ìš©-ê³„ì¸µspan-application-layer\" style=\"position:relative;\"><a href=\"#span-stylecolor-b100077%EF%B8%8F%E2%83%A3-%EC%9D%91%EC%9A%A9-%EA%B3%84%EC%B8%B5span-application-layer\" aria-label=\"span stylecolor b100077ï¸âƒ£ ì‘ìš© ê³„ì¸µspan application layer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><span style=\"color: #B10007\"><strong>7ï¸âƒ£ ì‘ìš© ê³„ì¸µ</strong></span> (Application Layer)</h4>\n<p>ì‘ìš© í”„ë¡œì„¸ìŠ¤ì™€ ì§ì ‘ ê´€ê³„í•˜ì—¬ ì¼ë°˜ì ì¸ ì‘ìš© ì„œë¹„ìŠ¤ë¥¼ ìˆ˜í–‰í•˜ëŠ” ê³„ì¸µì´ë‹¤.<br>\nì‚¬ìš©ìì™€ ì§ì ‘ ë§ë‹¿ì•„ ìˆëŠ” ê³„ì¸µì´ë©° ìµœì¢… ëª©ì ì§€ë¡œì„œ HTTP, FTP, SMTP, POP3, IMAP, Telnet ë“±ê³¼ ê°™ì€ í”„ë¡œí† ì½œì´ ìˆë‹¤.<br>\ní•´ë‹¹ í†µì‹  íŒ¨í‚·ë“¤ì€ ë°©ê¸ˆ ë‚˜ì—´í•œ í”„ë¡œí† ì½œì— ì˜í•´ ëª¨ë‘ ì²˜ë¦¬ë˜ë©° ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ë¸Œë¼ìš°ì €ë‚˜, ë©”ì¼ í”„ë¡œê·¸ë¨ì€ í”„ë¡œí† ì½œì„ ë³´ë‹¤ ì‰½ê²Œ ì‚¬ìš©í•˜ê²Œ í•´ì£¼ëŠ” ì‘ìš©í”„ë¡œê·¸ë¨ì´ë‹¤.<br>\ní•œë§ˆë””ë¡œ ëª¨ë“  í†µì‹ ì˜ ì–‘ ëë‹¨ì€ HTTPì™€ ê°™ì€ í”„ë¡œí† ì½œì´ì§€ ì‘ìš©í”„ë¡œê·¸ë¨ì´ ì•„ë‹ˆë‹¤.<br></p>\n<br>\n<ul>\n<li>ì „ì†¡ ë‹¨ìœ„ <code class=\"language-text\">ë°ì´í„°(Data)</code></li>\n</ul>\n<br>\n<h2 id=\"-tcpip\" style=\"position:relative;\"><a href=\"#-tcpip\" aria-label=\" tcpip permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ğŸŒ TCP/IP</h2>\n<br>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 320px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 146.11111111111111%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAdCAYAAACqhkzFAAAACXBIWXMAAAsTAAALEwEAmpwYAAAH2ElEQVRIx7VWaVBU2Rn9aNZuRZ3RmajDGMOogzsKsg20At3Q23uPZpOdBmSRpVntfW8aRLQVWZpmUZGtAWVrlqY3FkGUKJM4zqg1Y1kVJ5WaVCap/Mqv5KUeoj8yqfzLV3Xve3Xr3nO/U/ec+11giiYZHPlcYkR+W3ZEfmt2GE+fG5JxOZ8tnUliiia5O3998iMA2E5ydacAgAv8jyi50gTAkk7HYOp57iFqhuRAeKrULyrn0v5AtJYlnU5AlDYks/NHVxzHYRNwB5lC3uZ78DP39yCOZ0aYf94Jqz/cAqPZ4AL0qiEfhnD8q9hL99kMwWgcorBxGMJxNkMwdo5ePfwFsciDsnVz+adERwIAAnwLALj+jC/AX/ElWHtzB1rH2gCYgtEQRDaTxtUupsXXLmXHqedzEusfpqHyuTSWaJxFLTC4nivpBSQrBXD8e2gc6t5jWrx1YsBhCG4x1UWNP74dYnlmCuh3GP3r7rb4Akc6ncLVLlaEpterAxIkl4NTtdqTnHI9IpupRJXW0uiyHq+z/PubGQpc7lrbY82PO9LahrQ84/063o1e5YWrt6X5E4+MKX0O43ngSGeQ+NoHhcGpGnFAgkQRlnlFeJxRXIcprIWY0pYbWdzlEXZxCAC8AUhlLmMPjdHLr7rjc0oQUVYRW5zHx4TctMha++/a4qd+2x0HMdVDe1micRqmtCViKkc2prLzuLVLSWyxmRlbM3KQP4qDX0g0yNVMwHEx9DjuHBhb7ab2zDTGtAwqMfOaMdrkaKLde2A82zFl8AeWeCITkc3oMLVDG7fZMJW9FpHN6tjiyRJaRb/bbr+wDcJupA3ZuL87lJ0fefsEbvskqNQDtq+TcLwPhpc6ABC5pZKrma8/yanoPc0V3jmFXeo5Si8YQhWWy5jKrgjNuuIFAJ4kN49thGx89u/x5qZSPQgpEYHjb4nMXb75YydpeLGdRBxKHKay10QWd2qjS2/X0cru1IXnXm9A5BYBRzqduWWnz04iI5I7ZUN7Mn0ljC00wMufTfDiL4Pw/Kf+jfbwVQcMOlsB6NVDh5jiycw47WI5qnZKMM2ChFu3UsGSTOXE1Iz4f36S/sEJuYVUMJpbfzOy1MaYedKZOLVmzJhd70qfXe9KGl02MDunWo4CSzKlQhTW/pjq4bsM4VgPvcrUR6sc6OPILb0syVSzzwnaDgDwIlM8CTGTh+ablXPr7cMj89cGx5ebBofsV4dNtsYhy1PDwOiywQgc+awGVTsGApOVU4HJSnNgssJ8nM23c+SWfo58rvVz/1gC0NPdw40MQKKYH7WoHrww9quv509qmwom1Pr8ySp5qtX5rLXHst7eASyxOZItm62Irbmnia0ZucaSmBtjqod1bOl0DVs6zdng6rp949N4IxnGVztptq87hffmm3Qmu/76+HLLNZNd32D9ukM0sdqZDAzxRCSismkx3WIzplvsQjXO7jjdUiuqna9nSswZIzgOOz47sgEYFEkGbhXnAE/FZonaE7jy7oRkiZF7XtadyM3XcdiJNexgYMtn9fRq01NqoWHlXEnnMq1qYIFa1L5y9mLHE7Z8ZvbLKN4ugrInxYPQHqXkMiu+RBdewc0/KU4oOiVMKj4tYGcdU+ZKgior9JxSQNS2+rMXjatnUjVLwem6JWqRwR6cUbcUlKZ9zFbMjvlF5+18B0hcX7so/EY656I6gB/F9a1npB6sRXh+yjDGvqbki4cFglZGHsQK7h/jKK1CVONsRtWOHkRl60U18wZU41QyxONR+04zPsjGx9cbSvVZu6tucoPEHdxwoQGNFLShUdIubkRlExqaq473A7ZsRo6qHA5EaXuAKG1riMq+hiitK6ja6WBLp5u37tpHUN7u4urh7eEJFMIh/8DVoJ9kgG6ABnWDNKg30UBipEJJAxMgqvS2OThd9+fQrMZXX/H0L8OyG19RC9q+C0iS/ymy9NbTsincK6XpJXy8dy/hFC80P/RQpjAcy5GFFxaoI/g1zfTcmhZGakkDnVFUzz5I3DbayJJbq/TKwTVaed96VFnPeqzg/ho1v3Utmn+3Q7iCu8l+eOfb7GKAiuuxBmFb1OtcWdD3yaUn3qaU+/8hSxj4RtAa+Yqvj3ESlEMxtfMGppmfxtSOR5jauYapnXOYZr6dI7ewSkZxSJLJNosTDvyr1IEiTcCblPJj3yYWH3mRXnX8u1zpqW/yZP4vy69FrBFOWUGVVpwlnvgnSzyJs0QTOFM08S9EYcURueVHepXJ63BMxQbc6RCAQu25Ck7OkQUO78gqO/vw88xLp1dzpGcWIhDf5UxhmB4QpfX3mNqJh2TU4xEXmvGICzfx4LRanNgEVdn/FnvpHpnwiueWHURRIv69Dp459SvOhbAv0gXnfMv02N7q9rRPFKNXybW3DwGRoRBVWp8wRePfIoq51xy55TVLPPkCVdrWWRLzTXeyN1GXKa7unmQAF3IUdzcp52ojyPtyIFdFB+mdFNDeKwC+UQWX+/xcAFFYgNf1FkqncM+83r9vSWhY28a79RO5bAIHVGkFtnR6g64LyfWDHhm86F8U+Xg+E44xCgHOnFe9n7kHAOIA4BgA7CYGQjLqXZmi8U1At//ECACAswAQDgCsX+zg5rnFm+TqdtTV3Wu359aPye/Hk6+tQ3he8397eRCW3A8AewkTwf8r/g3CeTRUGXEEtAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tcp_ip.png\"\n        title=\"tcp_ip.png\"\n        src=\"/static/f29d72d9b2b34941e325394cf7ed4980/72799/tcp_ip.png\"\n        srcset=\"/static/f29d72d9b2b34941e325394cf7ed4980/e9ff0/tcp_ip.png 180w,\n/static/f29d72d9b2b34941e325394cf7ed4980/72799/tcp_ip.png 320w\"\n        sizes=\"(max-width: 320px) 100vw, 320px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<br>\n<p>ìœ„ì—ì„œ ì„œìˆ í•œ OSI ì°¸ì¡° ëª¨ë¸ì€ ë§ê·¸ëŒ€ë¡œ ì°¸ì¡° ëª¨ë¸ì¼ ë¿ ì‹¤ì œ ì‚¬ìš©ë˜ëŠ” ì¸í„°ë„· í”„ë¡œí† ì½œì€ ì„ 7ê³„ì¸µ êµ¬ì¡°ë¥¼ ì™„ì „íˆ ë”°ë¥´ì§€ëŠ” ì•ŠëŠ”ë‹¤. ì¸í„°ë„· í”„ë¡œí† ì½œ ìŠ¤íƒ(Internet Protocol Stack)ì€ í˜„ì¬ ëŒ€ë¶€ë¶„ TCP/IPë¥¼ ë”°ë¥¸ë‹¤.<br></p>\n<br>\n<p>TCP/IPëŠ” ì¸í„°ë„· í”„ë¡œí† ì½œ ì¤‘ ê°€ì¥ ì¤‘ìš”í•œ ì—­í• ì„ í•˜ëŠ” TCPì™€ IPì˜ í•©ì„±ì–´ë¡œ ë°ì´í„°ì˜ íë¦„ ê´€ë¦¬, ì •í™•ì„± í™•ì¸, íŒ¨í‚·ì˜ ëª©ì ì§€ ë³´ì¥ì„ ë‹´ë‹¹í•œë‹¤. ë°ì´í„°ì˜ ì •í™•ì„± í™•ì¸ì€ TCPê°€, íŒ¨í‚·ì„ ëª©ì ì§€ê¹Œì§€ ì „ì†¡í•˜ëŠ” ì¼ì€ IPê°€ ë‹´ë‹¹í•œë‹¤.<br></p>\n<br>\n<blockquote>\n<p><code class=\"language-text\">TCP/IPì˜ 4ê³„ì¸µ</code><br>\nTCP/IPëŠ” OSI ì°¸ì¡° ëª¨ë¸ê³¼ ë‹¬ë¦¬ í‘œí˜„ê³„ì¸µ, ì„¸ì…˜ê³„ì¸µì„ ì‘ìš©ê³„ì¸µì— ë‹¤ í¬í•¨ì‹œí‚¤ê³  ìˆì§€ë§Œ,<br>\nì‚¬ì‹¤ìƒ TCP/IP Modelì˜ Application ê³„ì¸µ í•˜ë‚˜ì—ì„œ Application, Presentatiom, Session ê³„ì¸µì˜ êµ¬í˜„ì„ ë‹¤ í•˜ê³  ìˆë‹¤ê³  ì´í•´í•˜ëŠ” ê²Œ ì˜¬ë°”ë¥´ë‹¤.<br></p>\n</blockquote>\n<br>\n<p>ì•„ì´ëŸ¬ë‹ˆ í•˜ê²Œë„ TCP/IP 4ê³„ì¸µì€ í† ëŒ€ëŠ” OSI 7ê³„ì¸µë³´ë‹¤ ë¨¼ì € ë‚˜ì™”ê³ <br>\në¹„ê³µì‹ í‘œì¤€ì´ì§€ë§Œ OSI 7ê³„ì¸µë³´ë‹¤ í›¨ì”¬ ë§ì´ ì´ìš©ëœë‹¤.<br></p>\n<br>\n<br>\n<div class=\"table-of-contents\">\n<ul>\n<li>\n<p><a href=\"#-osi-7%EA%B3%84%EC%B8%B5\">ğŸ¢ OSI 7ê³„ì¸µ</a></p>\n<ul>\n<li>\n<p><a href=\"#-%EB%AA%A9%EC%A0%81\">ğŸš ëª©ì </a></p>\n</li>\n<li>\n<p><a href=\"#-%EA%B3%84%EC%B8%B5-%EA%B8%B0%EB%8A%A5\">ğŸªœ ê³„ì¸µ ê¸°ëŠ¥</a></p>\n<ul>\n<li><a href=\"#span-stylecolor-03154d1%EF%B8%8F%E2%83%A3-%EB%AC%BC%EB%A6%AC-%EA%B3%84%EC%B8%B5span-physical-layer\"><span style=\"color: #03154D\"><strong>1ï¸âƒ£ ë¬¼ë¦¬ ê³„ì¸µ</strong></span> (Physical Layer)</a></li>\n<li><a href=\"#span-stylecolor-5b1a8e2%EF%B8%8F%E2%83%A3-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%A7%81%ED%81%AC-%EA%B3%84%EC%B8%B5span-datalink-layer\"><span style=\"color: #5B1A8E\"><strong>2ï¸âƒ£ ë°ì´í„° ë§í¬ ê³„ì¸µ</strong></span> (DataLink Layer)</a></li>\n<li><a href=\"#span-stylecolor-0b5bb53%EF%B8%8F%E2%83%A3-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EA%B3%84%EC%B8%B5span-network-layer\"><span style=\"color: #0B5BB5\"><strong>3ï¸âƒ£ ë„¤íŠ¸ì›Œí¬ ê³„ì¸µ</strong></span> (Network Layer)</a></li>\n<li><a href=\"#span-stylecolor-17a5424%EF%B8%8F%E2%83%A3-%EC%A0%84%EC%86%A1-%EA%B3%84%EC%B8%B5span-transport-layer\"><span style=\"color: #17A542\"><strong>4ï¸âƒ£ ì „ì†¡ ê³„ì¸µ</strong></span> (Transport Layer)</a></li>\n<li><a href=\"#span-stylecolor-fcb40b5%EF%B8%8F%E2%83%A3-%EC%84%B8%EC%85%98-%EA%B3%84%EC%B8%B5span-session-layer\"><span style=\"color: #FCB40B\"><strong>5ï¸âƒ£ ì„¸ì…˜ ê³„ì¸µ</strong></span> (Session Layer)</a></li>\n<li><a href=\"#span-stylecolor-f483386%EF%B8%8F%E2%83%A3-%ED%91%9C%ED%98%84-%EA%B3%84%EC%B8%B5span-presentation-layer\"><span style=\"color: #F48338\"><strong>6ï¸âƒ£ í‘œí˜„ ê³„ì¸µ</strong></span> (Presentation Layer)</a></li>\n<li><a href=\"#span-stylecolor-b100077%EF%B8%8F%E2%83%A3-%EC%9D%91%EC%9A%A9-%EA%B3%84%EC%B8%B5span-application-layer\"><span style=\"color: #B10007\"><strong>7ï¸âƒ£ ì‘ìš© ê³„ì¸µ</strong></span> (Application Layer)</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#-tcpip\">ğŸŒ TCP/IP</a></p>\n</li>\n</ul>\n</div>","frontmatter":{"date":"February 18, 2022","title":"OSI 7ê³„ì¸µ & TCP 4ê³„ì¸µ","categories":"ê¸°íƒ€","author":"seongsu","emoji":"1ï¸âƒ£1ï¸âƒ£"},"fields":{"slug":"/osi-7layer/"}},"site":{"siteMetadata":{"siteUrl":"https://seongsu.me","comments":{"utterances":{"repo":"nfl1ryxditimo12/nfl1ryxditimo12.github.io"}}}}},"pageContext":{"slug":"/typeorm-virtual-column-2/","nextSlug":"/typeorm-virtual-column-1/","prevSlug":"/osi-7layer/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}